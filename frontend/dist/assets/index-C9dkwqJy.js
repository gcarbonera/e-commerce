import{r as d,a as M,u as A,L as j,O as U,b as J,c as W,B as G,R as H,d as I,e as K}from"./vendor-CltjRMPg.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(n){if(n.ep)return;n.ep=!0;const t=s(n);fetch(n.href,t)}})();var L={exports:{}},z={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q=d,Y=Symbol.for("react.element"),X=Symbol.for("react.fragment"),Z=Object.prototype.hasOwnProperty,ee=Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ae={key:!0,ref:!0,__self:!0,__source:!0};function O(a,c,s){var u,n={},t=null,i=null;s!==void 0&&(t=""+s),c.key!==void 0&&(t=""+c.key),c.ref!==void 0&&(i=c.ref);for(u in c)Z.call(c,u)&&!ae.hasOwnProperty(u)&&(n[u]=c[u]);if(a&&a.defaultProps)for(u in c=a.defaultProps,c)n[u]===void 0&&(n[u]=c[u]);return{$$typeof:Y,type:a,key:t,ref:i,props:n,_owner:ee.current}}z.Fragment=X;z.jsx=O;z.jsxs=O;L.exports=z;var e=L.exports,B={},F=M;B.createRoot=F.createRoot,B.hydrateRoot=F.hydrateRoot;function oe(){const[a,c]=d.useState(!1),[s,u]=d.useState(""),n=A();d.useEffect(()=>{const i=localStorage.getItem("token"),y=localStorage.getItem("userEmail");i&&y&&(c(!0),u(y))},[]);const t=()=>{localStorage.removeItem("token"),localStorage.removeItem("userEmail"),c(!1),u(""),n("/"),console.log("üîì Usu√°rio deslogado")};return e.jsxs(e.Fragment,{children:[e.jsx("header",{children:e.jsx("div",{className:"container",children:e.jsxs("nav",{"aria-label":"Navega√ß√£o principal",children:[e.jsx(j,{to:"/",className:"logo","aria-label":"P√°gina inicial",children:"E-commerce"}),e.jsxs("ul",{className:"nav-links",children:[e.jsx("li",{children:e.jsx(j,{to:"/",children:"Home"})}),e.jsx("li",{children:e.jsx(j,{to:"/categorias",children:"Produtos"})}),a?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(j,{to:"/sacola",children:"Sacola"})}),e.jsx("li",{children:e.jsxs("button",{onClick:t,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},"aria-label":"Sair da conta",children:["Sair (",s,")"]})})]}):e.jsx("li",{children:e.jsx(j,{to:"/sacola/login",children:"Login"})})]})]})})}),e.jsx("main",{children:e.jsx("div",{className:"container",children:e.jsx(U,{})})}),e.jsx("footer",{children:e.jsx("div",{className:"container",children:e.jsx("p",{children:"¬© 2024 E-commerce. Todos os direitos reservados."})})})]})}function re(){return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"banner","aria-labelledby":"banner-title",children:[e.jsx("h1",{id:"banner-title",children:"Bem-vindo ao E-commerce"}),e.jsx("p",{children:"Encontre os melhores produtos com os melhores pre√ßos!"}),e.jsx(j,{to:"/categorias",className:"btn btn-primary","aria-label":"Ver todos os produtos",children:"Ver Produtos"})]}),e.jsxs("section",{"aria-labelledby":"featured-title",children:[e.jsx("h2",{id:"featured-title",children:"Categorias em Destaque"}),e.jsxs("div",{className:"product-grid",style:{marginTop:"2rem"},children:[e.jsxs(j,{to:"/categorias?categoria=Eletr√¥nicos",className:"product-card","aria-label":"Ver produtos de Eletr√¥nicos",children:[e.jsx("div",{style:{width:"100%",height:"250px",backgroundColor:"#4F46E5",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:"white"},children:"üì± Eletr√¥nicos"}),e.jsxs("div",{className:"product-info",children:[e.jsx("h3",{children:"Eletr√¥nicos"}),e.jsx("p",{children:"Smartphones, notebooks e muito mais"})]})]}),e.jsxs(j,{to:"/categorias?categoria=Moda",className:"product-card","aria-label":"Ver produtos de Moda",children:[e.jsx("div",{style:{width:"100%",height:"250px",backgroundColor:"#EC4899",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:"white"},children:"üëï Moda"}),e.jsxs("div",{className:"product-info",children:[e.jsx("h3",{children:"Moda"}),e.jsx("p",{children:"Roupas e acess√≥rios de moda"})]})]}),e.jsxs(j,{to:"/categorias?categoria=Casa",className:"product-card","aria-label":"Ver produtos de Casa",children:[e.jsx("div",{style:{width:"100%",height:"250px",backgroundColor:"#10B981",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:"white"},children:"üè† Casa"}),e.jsxs("div",{className:"product-info",children:[e.jsx("h3",{children:"Casa"}),e.jsx("p",{children:"Utens√≠lios e decora√ß√£o"})]})]}),e.jsxs(j,{to:"/categorias?categoria=Esportes",className:"product-card","aria-label":"Ver produtos de Esportes",children:[e.jsx("div",{style:{width:"100%",height:"250px",backgroundColor:"#F59E0B",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:"white"},children:"‚öΩ Esportes"}),e.jsxs("div",{className:"product-info",children:[e.jsx("h3",{children:"Esportes"}),e.jsx("p",{children:"T√™nis, roupas e equipamentos"})]})]})]})]})]})}const te="http://localhost:3001";function se(){const[a,c]=d.useState([]),[s,u]=d.useState(!0),[n,t]=d.useState(null),[i,y]=d.useState(null),[S,b]=J(),h=S.get("categoria")||"",C=parseInt(S.get("page")||"1"),E=S.get("busca")||"";d.useEffect(()=>{P()},[h,C,E]);const P=async()=>{try{u(!0),t(null);const l=new URLSearchParams;h&&l.append("categoria",h),E&&l.append("busca",E),l.append("page",C),l.append("limit","10");const p=`${te}/produtos?${l.toString()}`;console.log(`üîç Buscando produtos: ${p}`);const g=await fetch(p);if(!g.ok)throw new Error(`Erro HTTP: ${g.status}`);const w=await g.json();if(w.success)c(w.data),y(w.pagination),console.log(`‚úì ${w.data.length} produtos carregados (p√°gina ${w.pagination.page})`);else throw new Error(w.error||"Erro ao carregar produtos")}catch(l){console.error("‚úó Erro ao buscar produtos:",l),t("N√£o foi poss√≠vel carregar os produtos. Verifique se a API est√° rodando.")}finally{u(!1)}},R=l=>{const p=l.target.value,g={};p&&(g.categoria=p),E&&(g.busca=E),b(g)},$=l=>{const p=l.target.value,g={};h&&(g.categoria=h),p&&(g.busca=p),b(g)},f=l=>{const p={page:l.toString()};h&&(p.categoria=h),E&&(p.busca=E),b(p)},x=["Eletr√¥nicos","Roupas","Livros","Acess√≥rios"];return s?e.jsx("div",{className:"loading",role:"status","aria-live":"polite",children:e.jsx("p",{children:"Carregando produtos..."})}):n?e.jsxs("div",{className:"error",role:"alert",children:[e.jsx("p",{children:n}),e.jsx("button",{onClick:P,className:"btn btn-primary",style:{marginTop:"1rem"},children:"Tentar Novamente"})]}):e.jsxs("section",{"aria-labelledby":"products-title",children:[e.jsx("h1",{id:"products-title",children:"Produtos"}),e.jsx("div",{className:"filter-section",children:e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search-input",style:{marginRight:"0.5rem"},children:"Buscar:"}),e.jsx("input",{type:"text",id:"search-input",value:E,onChange:$,placeholder:"Nome ou descri√ß√£o...",style:{padding:"0.5rem 1rem",border:"1px solid var(--border)",borderRadius:"6px"},"aria-label":"Buscar produtos"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category-filter",style:{marginRight:"0.5rem"},children:"Categoria:"}),e.jsxs("select",{id:"category-filter",value:h,onChange:R,"aria-label":"Selecione uma categoria para filtrar",children:[e.jsx("option",{value:"",children:"Todas as categorias"}),x.map(l=>e.jsx("option",{value:l,children:l},l))]})]})]})}),a.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h2",{children:"Nenhum produto encontrado"}),e.jsx("p",{children:"Tente ajustar os filtros ou fazer outra busca"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"product-grid",children:a.map(l=>{const g={Eletr√¥nicos:"üì±",Roupas:"üëï",Moda:"üëï",Livros:"üìö",Acess√≥rios:"üéí",Casa:"üè†",Esportes:"‚öΩ"}[l.category]||"üì¶";return e.jsx("article",{className:"product-card",children:e.jsxs(j,{to:`/produtos/${l.id}`,"aria-label":`Ver detalhes de ${l.name}`,children:[e.jsx("div",{style:{width:"100%",height:"300px",backgroundColor:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"80px",borderBottom:"1px solid var(--border)"},children:g}),e.jsxs("div",{className:"product-info",children:[e.jsx("p",{className:"product-category",children:l.category}),e.jsx("h3",{children:l.name}),e.jsxs("p",{className:"product-price",children:["R$ ",l.price.toFixed(2).replace(".",",")]})]})]})},l.id)})}),i&&i.totalPages>1&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",marginTop:"2rem"},children:[e.jsx("button",{onClick:()=>f(C-1),disabled:!i.hasPrev,className:"btn btn-secondary",style:{opacity:i.hasPrev?1:.5},"aria-label":"P√°gina anterior",children:"‚Üê Anterior"}),e.jsxs("span",{"aria-label":`P√°gina ${i.page} de ${i.totalPages}`,children:["P√°gina ",i.page," de ",i.totalPages]}),e.jsx("button",{onClick:()=>f(C+1),disabled:!i.hasNext,className:"btn btn-secondary",style:{opacity:i.hasNext?1:.5},"aria-label":"Pr√≥xima p√°gina",children:"Pr√≥xima ‚Üí"})]})]})]})}const ne="http://localhost:3001",ie="http://localhost:3002";function le(){const{id:a}=W(),c=A(),[s,u]=d.useState(null),[n,t]=d.useState(!0),[i,y]=d.useState(null),[S,b]=d.useState(!1),[h,C]=d.useState("");d.useEffect(()=>{E()},[a]);const E=async()=>{try{t(!0),y(null),console.log(`üîç Buscando produto ${a}`);const f=await fetch(`${ne}/produtos/${a}`);if(!f.ok)throw new Error(`Erro HTTP: ${f.status}`);const x=await f.json();if(x.success)u(x.data),console.log(`‚úì Produto carregado: ${x.data.name}`);else throw new Error(x.error||"Produto n√£o encontrado")}catch(f){console.error("‚úó Erro ao buscar produto:",f),y("N√£o foi poss√≠vel carregar o produto.")}finally{t(!1)}},P=async()=>{const f=localStorage.getItem("token");if(!f){console.log("‚ö†Ô∏è Usu√°rio n√£o autenticado, redirecionando para login"),c("/sacola/login");return}try{b(!0),y(null),C(""),console.log(`üõí Adicionando produto ${s.id} √† sacola`);const x=await fetch(`${ie}/sacola/items`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({productId:s.id,name:s.name,price:s.price,quantity:1,image:s.image})}),l=await x.json();if(x.ok&&l.success){C("Produto adicionado √† sacola com sucesso!"),console.log("‚úì Produto adicionado √† sacola");const p=JSON.parse(localStorage.getItem("bagItems")||"[]"),g=p.findIndex(w=>w.productId===s.id);g>=0?p[g].quantity+=1:p.push({productId:s.id,name:s.name,price:s.price,quantity:1,image:s.image}),localStorage.setItem("bagItems",JSON.stringify(p)),console.log("‚úì Sacola sincronizada com localStorage"),setTimeout(()=>C(""),3e3)}else throw new Error(l.error||"Erro ao adicionar produto")}catch(x){console.error("‚úó Erro ao adicionar √† sacola:",x),y("Erro ao adicionar produto √† sacola. Tente novamente.")}finally{b(!1)}};if(n)return e.jsx("div",{className:"loading",role:"status","aria-live":"polite",children:e.jsx("p",{children:"Carregando produto..."})});if(i||!s)return e.jsxs("div",{className:"error",role:"alert",children:[e.jsx("p",{children:i||"Produto n√£o encontrado"}),e.jsx(j,{to:"/categorias",className:"btn btn-primary",style:{marginTop:"1rem"},children:"Voltar para produtos"})]});const $={Eletr√¥nicos:"üì±",Roupas:"üëï",Moda:"üëï",Livros:"üìö",Acess√≥rios:"üéí",Casa:"üè†",Esportes:"‚öΩ"}[s.category]||"üì¶";return e.jsxs("article",{className:"product-detail",children:[e.jsx("div",{className:"product-image",children:e.jsx("div",{style:{width:"100%",height:"500px",backgroundColor:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"150px",borderRadius:"8px"},children:$})}),e.jsxs("div",{className:"product-details",children:[e.jsxs("nav",{"aria-label":"Breadcrumb",children:[e.jsx(j,{to:"/categorias",children:"Produtos"})," / ",s.category]}),e.jsx("h1",{children:s.name}),e.jsx("p",{className:"category",children:s.category}),e.jsxs("p",{className:"price",children:["R$ ",s.price.toFixed(2).replace(".",",")]}),e.jsx("p",{className:"description",children:s.description}),e.jsx("p",{className:"stock",children:s.stock>0?`‚úì Em estoque (${s.stock} unidades dispon√≠veis)`:"‚úó Produto esgotado"}),h&&e.jsx("div",{className:"success",role:"status","aria-live":"polite",children:h}),i&&e.jsx("div",{className:"error",role:"alert",children:i}),e.jsx("button",{onClick:P,disabled:S||s.stock===0,className:"btn btn-primary",style:{marginRight:"1rem"},"aria-label":"Adicionar produto √† sacola",children:S?"Adicionando...":"Adicionar √† Sacola"}),e.jsx(j,{to:"/categorias",className:"btn btn-secondary",children:"Continuar Comprando"})]})]})}const ce="http://localhost:3002";function de(){const[a,c]=d.useState(""),[s,u]=d.useState(!1),[n,t]=d.useState(null),i=A(),y=async S=>{if(S.preventDefault(),!a||!a.includes("@")){t("Por favor, insira um email v√°lido");return}try{u(!0),t(null),console.log(`üîê Tentando login com: ${a}`);const b=await fetch(`${ce}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),h=await b.json();if(b.ok&&h.success)localStorage.setItem("token",h.data.token),localStorage.setItem("userEmail",h.data.email),console.log(`‚úì Login bem-sucedido: ${a}`),console.log("‚úì Token salvo no localStorage"),i("/sacola");else throw new Error(h.error||"Erro ao fazer login")}catch(b){console.error("‚úó Erro no login:",b),t("Erro ao fazer login. Verifique se a API est√° rodando.")}finally{u(!1)}};return e.jsxs("div",{className:"form-container",children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",marginBottom:"2rem"},children:"Entre com seu email para acessar sua sacola"}),n&&e.jsx("div",{className:"error",role:"alert",children:n}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email:"}),e.jsx("input",{type:"email",id:"email",value:a,onChange:S=>c(S.target.value),placeholder:"seu@email.com",required:!0,"aria-required":"true","aria-describedby":"email-help"}),e.jsx("small",{id:"email-help",style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"N√£o √© necess√°rio senha para este demo"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},disabled:s,"aria-label":"Entrar na conta",children:s?"Entrando...":"Entrar"})]}),e.jsx("p",{style:{textAlign:"center",marginTop:"1.5rem",color:"var(--text-secondary)"},children:"üí° Dica: Use qualquer email v√°lido para fazer login"})]})}const k="http://localhost:3002";function ue(){const[a,c]=d.useState(null),[s,u]=d.useState(!0),[n,t]=d.useState(null),[i,y]=d.useState(""),[S,b]=d.useState(!1),[h,C]=d.useState(""),[E,P]=d.useState(!1),[R,$]=d.useState(""),f=A();d.useEffect(()=>{if(!localStorage.getItem("token")){console.log("‚ö†Ô∏è Usu√°rio n√£o autenticado, redirecionando para login"),f("/sacola/login");return}x()},[f]);const x=async()=>{try{u(!0),t(null);const o=localStorage.getItem("token");if(!o){f("/sacola/login");return}console.log("üõí Buscando sacola do usu√°rio");const r=await fetch(`${k}/sacola`,{headers:{Authorization:`Bearer ${o}`}});if(r.status===401||r.status===403){console.log("‚úó Token inv√°lido ou expirado"),localStorage.removeItem("token"),localStorage.removeItem("userEmail"),f("/sacola/login");return}if(!r.ok)throw new Error(`Erro HTTP: ${r.status}`);const m=await r.json();if(m.success)c(m.data),console.log(`‚úì Sacola carregada: ${m.data.items.length} itens`),localStorage.setItem("bagItems",JSON.stringify(m.data.items));else throw new Error(m.error||"Erro ao carregar sacola")}catch(o){console.error("‚úó Erro ao buscar sacola:",o),t("Erro ao carregar sacola. Tentando carregar do localStorage...");const r=JSON.parse(localStorage.getItem("bagItems")||"[]");r.length>0&&(console.log("‚úì Sacola carregada do localStorage (fallback)"),c({items:r,coupon:null,summary:l(r)}),t(null))}finally{u(!1)}},l=o=>{const r=o.reduce((N,T)=>N+T.price*T.quantity,0),m=r>200?0:15.9,v=r+m;return{subtotal:parseFloat(r.toFixed(2)),shipping:parseFloat(m.toFixed(2)),discount:0,total:parseFloat(v.toFixed(2))}},p=async(o,r)=>{if(!(r<1))try{const m=localStorage.getItem("token");console.log(`üìù Atualizando quantidade do item ${o} para ${r}`);const v=await fetch(`${k}/sacola/items/${o}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({quantity:r})}),N=await v.json();if(v.ok&&N.success)console.log("‚úì Quantidade atualizada"),x();else throw new Error(N.error||"Erro ao atualizar quantidade")}catch(m){console.error("‚úó Erro ao atualizar quantidade:",m),t("Erro ao atualizar quantidade")}},g=async o=>{if(confirm("Deseja remover este item da sacola?"))try{const r=localStorage.getItem("token");console.log(`üóëÔ∏è Removendo item ${o}`);const m=await fetch(`${k}/sacola/items/${o}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}}),v=await m.json();if(m.ok&&v.success)console.log("‚úì Item removido"),x();else throw new Error(v.error||"Erro ao remover item")}catch(r){console.error("‚úó Erro ao remover item:",r),t("Erro ao remover item")}},w=async o=>{if(o.preventDefault(),!!i.trim())try{b(!0),t(null);const r=localStorage.getItem("token");console.log(`üéüÔ∏è Aplicando cupom: ${i}`);const m=await fetch(`${k}/sacola/coupon`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({code:i})}),v=await m.json();if(m.ok&&v.success)console.log(`‚úì Cupom aplicado: ${v.data.coupon.description}`),y(""),x();else throw new Error(v.error||"Cupom inv√°lido")}catch(r){console.error("‚úó Erro ao aplicar cupom:",r),t(r.message||"Erro ao aplicar cupom")}finally{b(!1)}},q=async()=>{try{const o=localStorage.getItem("token");console.log("üóëÔ∏è Removendo cupom");const r=await fetch(`${k}/sacola/coupon`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}}),m=await r.json();r.ok&&m.success&&(console.log("‚úì Cupom removido"),x())}catch(o){console.error("‚úó Erro ao remover cupom:",o)}},D=o=>{const r=o.replace(/\D/g,"");return r.length<=5?r:`${r.slice(0,5)}-${r.slice(5,8)}`},_=o=>{const r=D(o.target.value);C(r)},V=async o=>{o.preventDefault();const r=h.replace(/\D/g,"");if(r.length!==8){$("CEP deve ter 8 d√≠gitos");return}try{P(!0),$("");const m=localStorage.getItem("token");console.log(`üìç Calculando frete para CEP: ${h}`);const v=await fetch(`${k}/sacola/frete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({cep:r})}),N=await v.json();if(v.ok&&N.success)console.log(`‚úì Frete calculado: R$ ${N.data.cost} - ${N.data.regionName}`),c(T=>({...T,shippingInfo:N.data,summary:{...T.summary,shipping:N.data.cost}}));else throw new Error(N.error||"Erro ao calcular frete")}catch(m){console.error("‚úó Erro ao calcular frete:",m),$(m.message||"Erro ao calcular frete")}finally{P(!1)}};return s?e.jsx("div",{className:"loading",role:"status","aria-live":"polite",children:e.jsx("p",{children:"Carregando sacola..."})}):!a||a.items.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h1",{children:"Sua sacola est√° vazia"}),e.jsx("p",{children:"Adicione produtos para continuar comprando"}),e.jsx(j,{to:"/categorias",className:"btn btn-primary",style:{marginTop:"1rem"},children:"Ver Produtos"})]}):e.jsxs("section",{"aria-labelledby":"bag-title",children:[e.jsx("h1",{id:"bag-title",children:"Minha Sacola"}),n&&e.jsx("div",{className:"error",role:"alert",children:n}),e.jsxs("div",{className:"bag-container",children:[e.jsxs("div",{className:"bag-items",children:[e.jsxs("h2",{children:["Itens (",a.items.length,")"]}),a.items.map(o=>e.jsxs("article",{className:"bag-item",children:[e.jsx("img",{src:o.image,alt:o.name}),e.jsxs("div",{className:"item-details",children:[e.jsx("h3",{children:o.name}),e.jsxs("p",{className:"item-price",children:["R$ ",o.price.toFixed(2).replace(".",",")]}),e.jsxs("div",{className:"quantity-controls",children:[e.jsx("button",{onClick:()=>p(o.id,o.quantity-1),"aria-label":"Diminuir quantidade",children:"-"}),e.jsx("span",{"aria-label":`Quantidade: ${o.quantity}`,children:o.quantity}),e.jsx("button",{onClick:()=>p(o.id,o.quantity+1),"aria-label":"Aumentar quantidade",children:"+"})]}),e.jsxs("p",{style:{marginTop:"0.5rem",fontWeight:"bold"},children:["Subtotal: R$ ",(o.price*o.quantity).toFixed(2).replace(".",",")]})]}),e.jsx("button",{onClick:()=>g(o.id),className:"btn btn-danger","aria-label":`Remover ${o.name} da sacola`,children:"Remover"})]},o.id))]}),e.jsxs("aside",{className:"bag-summary","aria-labelledby":"summary-title",children:[e.jsx("h2",{id:"summary-title",children:"Resumo do Pedido"}),e.jsxs("div",{className:"shipping-section",style:{marginBottom:"1.5rem",padding:"1rem",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"üìç Calcular Frete"}),a.shippingInfo&&e.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#e0f2fe",borderRadius:"6px"},children:[e.jsx("p",{style:{margin:0,fontSize:"0.9rem"},children:e.jsx("strong",{children:a.shippingInfo.regionName})}),e.jsxs("p",{style:{margin:"0.25rem 0 0",fontSize:"0.85rem",color:"#64748b"},children:["Entrega em ",a.shippingInfo.estimatedDays," dias √∫teis"]}),a.shippingInfo.freeShipping&&a.shippingInfo.originalCost&&e.jsxs("p",{style:{margin:"0.25rem 0 0",fontSize:"0.85rem",color:"#10b981",fontWeight:"bold"},children:["Voc√™ economizou R$ ",a.shippingInfo.originalCost.toFixed(2),"!"]})]}),e.jsxs("form",{onSubmit:V,style:{display:"flex",gap:"0.5rem"},children:[e.jsx("input",{type:"text",value:h,onChange:_,placeholder:"00000-000",maxLength:"9",style:{flex:1,padding:"0.5rem",border:"1px solid var(--border)",borderRadius:"4px",fontSize:"0.9rem"},"aria-label":"Digite seu CEP"}),e.jsx("button",{type:"submit",disabled:E,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:E?"...":"OK"})]}),R&&e.jsx("p",{style:{margin:"0.5rem 0 0",color:"var(--danger-color)",fontSize:"0.85rem"},children:R}),!a.shippingInfo&&e.jsx("p",{style:{margin:"0.5rem 0 0",fontSize:"0.85rem",color:"#64748b"},children:"Digite seu CEP para calcular o frete"})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["R$ ",a.summary.subtotal.toFixed(2).replace(".",",")]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Frete:"}),e.jsx("span",{children:a.summary.shipping===0?"Gr√°tis üéâ":`R$ ${a.summary.shipping.toFixed(2).replace(".",",")}`})]}),a.summary.discount>0&&e.jsxs("div",{className:"summary-row",style:{color:"var(--success-color)"},children:[e.jsx("span",{children:"Desconto:"}),e.jsxs("span",{children:["- R$ ",a.summary.discount.toFixed(2).replace(".",",")]})]}),e.jsxs("div",{className:"summary-row total",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["R$ ",a.summary.total.toFixed(2).replace(".",",")]})]}),e.jsxs("div",{className:"coupon-section",children:[e.jsx("h3",{children:"Cupom de Desconto"}),a.coupon?e.jsxs("div",{className:"coupon-applied",children:[e.jsxs("div",{children:[e.jsx("strong",{children:a.coupon.code}),e.jsx("p",{style:{fontSize:"0.875rem",margin:0},children:a.coupon.description})]}),e.jsx("button",{onClick:q,className:"btn btn-danger",style:{padding:"0.5rem 1rem",fontSize:"0.875rem"},"aria-label":"Remover cupom",children:"Remover"})]}):e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"coupon-input",children:[e.jsx("input",{type:"text",value:i,onChange:o=>y(o.target.value),placeholder:"Digite o cupom","aria-label":"C√≥digo do cupom"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:S||!i.trim(),style:{padding:"0.5rem 1rem"},children:S?"Aplicando...":"Aplicar"})]}),e.jsx("small",{style:{display:"block",marginTop:"0.5rem",color:"var(--text-secondary)"},children:"Cupons dispon√≠veis: DESC10, DESC20, FRETE, BEM-VINDO"})]})]}),e.jsx("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"1.5rem"},onClick:()=>alert("Funcionalidade de checkout n√£o implementada neste demo"),children:"Finalizar Pedido"}),a.summary.subtotal<200&&e.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"1rem",textAlign:"center"},children:"üí° Frete gr√°tis em compras acima de R$ 200,00"})]})]})]})}function me(){return e.jsx(G,{children:e.jsx(H,{children:e.jsxs(I,{path:"/",element:e.jsx(oe,{}),children:[e.jsx(I,{index:!0,element:e.jsx(re,{})}),e.jsx(I,{path:"categorias",element:e.jsx(se,{})}),e.jsx(I,{path:"produtos/:id",element:e.jsx(le,{})}),e.jsx(I,{path:"sacola/login",element:e.jsx(de,{})}),e.jsx(I,{path:"sacola",element:e.jsx(ue,{})})]})})})}B.createRoot(document.getElementById("root")).render(e.jsx(K.StrictMode,{children:e.jsx(me,{})}));
